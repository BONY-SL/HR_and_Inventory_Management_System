<!-- view-employee.component.html -->
<!-- Payroll Management Details Section -->
<div class="d-flex page__box p-1 mt-0" *ngIf="isVisible1">
  <div class="card" style="width:100%">
    <h3 class="m-3 text-center">Employees</h3>
    <div class="card-header d-flex justify-content-between align-items-center">
      <div class="search-bar d-flex align-items-center">
        <b>Search details :</b>
        <div class="form-group position-relative">
          <input type="text" class="form-control" id="emp" name="empId" [(ngModel)]="employeeId" placeholder="Enter Employee ID" required (input)="filterByEmployeeId()">
          <div class="suggestions-list position-absolute bg-white border" *ngIf="searchSuggestions.length">
            <div class="suggestion-item" *ngFor="let suggestion of searchSuggestions" (click)="selectSuggestion(suggestion)">
              {{ suggestion }}
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="card-body">
      <table datatable class="table table-bordered">
        <thead class="bg-dark text-white">
        <tr>
          <th>ID</th>
          <th>Name</th>
          <th>Address</th>
          <th>Gender</th>
          <th>DOB</th>
          <th>State</th>
          <th>Contact No</th>
          <th>Married/Not</th>
          <th>Job Role</th>
          <th>Salary Type</th>
          <th>Dep. ID</th>
          <th>Sec. ID</th>
          <th>Action</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let item of filteredData | paginate: { itemsPerPage: 10, currentPage: page }">
          <td>{{ item.employeeid }}</td>
          <td>{{ item.employee_name }}</td>
          <td>{{ item.address }}</td>
          <td>{{ item.gender }}</td>
          <td>{{ item.dob | date: 'yyyy-MM-dd' }}</td>
          <td>{{ item.company_status }}</td>
          <td>{{ item.contact }}</td>
          <td>{{ item.ma_uma }}</td>
          <td>{{ item.job_role }}</td>
          <td>{{ item.salary_type }}</td>
          <td>{{ item.dep_id }}</td>
          <td>{{ item.sec_id }}</td>
          <td style="white-space: nowrap;">
            <a class="btn btn-primary" (click)="Update(item.employeeid)">Update</a>
          </td>
        </tr>
        </tbody>
      </table>
      <pagination-controls (pageChange)="pageChanged($event)"></pagination-controls>
    </div>
  </div>
</div>

<div class="d-flex page__box p-1 mt-0" *ngIf="isVisible2">
  <div class="container mt-4">
    <h2 class="text-center">Update Employee Information</h2>
    <form>
      <div class="form-group">
        <label for="employeeid">Employee ID:</label>
        <input type="text" class="form-control" id="employeeid" name="employeeid" [(ngModel)]="id" readonly>
      </div>

      <div class="form-group">
        <label for="employeeName">Employee Name:</label>
        <input type="text" class="form-control" id="employeeName" name="employeeName" [(ngModel)]="empname">
      </div>
      <div class="form-group">
        <label for="address">Address:</label>
        <input type="text" class="form-control" id="address" name="address" [(ngModel)]="address">
      </div>
      <div class="form-group">
        <label for="contact">Contact No:</label>
        <input type="text" class="form-control" id="contact" name="contact" [(ngModel)]="contactno">
      </div>

      <div class="form-group">
        <label for="married">Gender:</label>
        <select class="form-control" id="gender" name="gender" [(ngModel)]="gender">
          <option value="male">Male</option>
          <option value="female">Female</option>
        </select>
      </div>


      <div class="form-group">
        <label for="married">Married or not:</label>
        <select class="form-control" id="married" name="companyStatus" [(ngModel)]="mstate">
          <option value="married">Married</option>
          <option value="unmarried">Unmarried</option>
        </select>
      </div>
      <div class="form-group">
        <label for="departmentId">Department ID:</label>
        <input type="text" class="form-control" id="departmentId" name="departmentId" [(ngModel)]="Did">
      </div>
      <div class="form-group">
        <label for="sectionId">Section ID:</label>
        <input type="text" class="form-control" id="sectionId" name="sectionId" style="margin-bottom: 20px;" [(ngModel)]="sid">
      </div>

      <button type="submit" class="btn btn-primary" (click)="back()">Back</button>
      &nbsp;&nbsp;&nbsp;&nbsp;
      <button type="submit" class="btn btn-primary" (click)="handleFormSubmit()">Submit</button>
    </form>
  </div>
</div>
